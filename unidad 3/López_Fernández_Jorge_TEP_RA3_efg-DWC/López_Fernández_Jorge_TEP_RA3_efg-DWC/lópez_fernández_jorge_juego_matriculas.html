<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de las matrículas</title>
</head>

<body>
    <script>
        var num = "";
        var patron = /^[0-9]{4}$/;
        do {
            num = prompt("Introduce el número de 4 cifras");
            var num_aux = num.split("");
        } while (!num.match(patron));
        num_aux.sort((a, b) => a - b);
        console.log(num_aux);
        if (num_aux.every(element => element === num_aux[0])) {
            alert("Es un poker");
        } else if ((num_aux[0] === num_aux[1] && num_aux[2] === num_aux[3]) || (num_aux[0] === num_aux[2] && num_aux[1] === num_aux[3]) || (num_aux[0] === num_aux[3] && num_aux[1] === num_aux[2])) {
            alert("Es una doble pareja");
        } else if ((num_aux[0] === num_aux[1] && num_aux[0] === num_aux[2]) || (num_aux[0] === num_aux[1] && num_aux[0] === num_aux[3]) || (num_aux[1] === num_aux[2] && num_aux[1] === num_aux[3])) {
            alert("Es un trío");
        } else if ((parseInt(num_aux[0]) + 1) === parseInt(num_aux[1]) && parseInt(num_aux[0]) + 2 === parseInt(num_aux[2]) && (parseInt(num_aux[0]) + 3) !== parseInt(num_aux[3])) {
            alert("Es una escalera simple");
        } else if ((parseInt(num_aux[0]) + 1) === parseInt(num_aux[1]) && parseInt(num_aux[0]) + 2 === parseInt(num_aux[2]) && (parseInt(num_aux[0]) + 3) === parseInt(num_aux[3])) {
            alert("Es una escalera completa");
        }
        probabilidades();
        function probabilidades() {
            let cont_poker = 0, cont_pareja_doble = 0, cont_trio = 0, cont_escalera_simp = 0, cont_escalera_completa = 0;
            for (let i = 100; i < 10000; i++) {
                let aux = [];
                if (i < 10) {
                    let i_aux = i.toString();
                    aux = i_aux.split("");
                    aux.unshift("0");
                    aux.unshift("0");
                    aux.unshift("0");
                    console.log(aux);
                } else if (i < 100) {
                    let i_aux = i.toString();
                    aux = i_aux.split("");
                    aux.unshift("0");
                    aux.unshift("0");
                    console.log(aux);
                } else if (i <= 999) {
                    let i_aux = i.toString();
                    aux = i_aux.split("");
                    aux.unshift("0");
                    console.log(aux);
                } else {
                    let i_aux = i.toString();
                    aux = i_aux.split("");
                    console.log(aux);
                }
                switch(validar(aux)){
                    case 0:
                        cont_poker++;
                    break;
                    case 1:
                        cont_pareja_doble++;
                    break;
                    case 2:
                        cont_trio++;
                    break;
                    case 3:
                        cont_escalera_simp++;
                    break;
                    case 4:
                        cont_escalera_completa++;
                    break;
                }
            }
            console.log(cont_poker);
        }
        function validar(aux) {
            let op = 0;
            if (aux.every(element => element === aux[0])) {
                op=0;
            } else if ((aux[0] === aux[1] && aux[2] === aux[3]) || (aux[0] === aux[2] && aux[1] === aux[3]) || (aux[0] === aux[3] && aux[1] === aux[2])) {
                op=1;
            } else if ((aux[0] === aux[1] && aux[0] === aux[2]) || (aux[0] === aux[1] && aux[0] === aux[3]) || (aux[1] === aux[2] && aux[1] === aux[3])) {
                op=2;
            } else if ((parseInt(aux[0]) + 1) === parseInt(aux[1]) && parseInt(aux[0]) + 2 === parseInt(aux[2]) && (parseInt(aux[0]) + 3) !== parseInt(aux[3])) {
                op=3;
            } else if ((parseInt(aux[0]) + 1) === parseInt(aux[1]) && parseInt(aux[0]) + 2 === parseInt(aux[2]) && (parseInt(aux[0]) + 3) === parseInt(aux[3])) {
                op=4;
            }
            return op;
        }
    </script>
</body>

</html>